/* === JJ-DESIGN overrides.css — MOBILE ONLY (clean v3) ===
   Path: /srv/jj/jj-design-web/user-dist/overrides.css
   Note: 모든 규칙은 @media (max-width:768px) 내부 — PC 영향 X
*/

@media (max-width: 768px) {

  /* 0) 디버그 뱃지 (보이면 미디어쿼리 활성) */
  body::after {
    content: "overrides.css: mobile active";
    position: fixed;
    right: 8px; bottom: 8px;
    padding: 4px 6px;
    font: 11px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    color: #fff; background: rgba(0,0,0,.65);
    border-radius: 6px;
    z-index: 2147483647;
    pointer-events: none;
  }

  /* 1) 히어로/배너 오버레이: 위치/변형 초기화 + 스와이프 방해 제거 */
  /*  - z-index 유무 상관없이 잡히도록 'position:absolute'만 조건으로 */
  .hero  [style*="position: absolute"],
  .banner[style*="position: absolute"],
  .full  [style*="position: absolute"],
  .hero  .absolute,
  .banner .absolute,
  .full  .absolute {
    left: 16px !important;
    right: 16px !important;
    bottom: 16px !important;
    width: auto !important;
    transform: none !important;      /* translate(-50%,-50%) 같은 변형 제거 */
    pointer-events: none !important;  /* 슬라이드 제스처 통과 */
  }

  /* 버튼/링크만 다시 클릭 가능 */
  .hero  :is([style*="position: absolute"], .absolute) :is(a,button),
  .banner:is([style*="position: absolute"], .absolute) :is(a,button),
  .full  :is([style*="position: absolute"], .absolute) :is(a,button) {
    pointer-events: auto !important;
  }

  /* 2) 큰 글자 전부 축소 (태그/유틸/인라인 font-size 모두 강제) */
  .hero  :is(h1,h2,h3,[class*="text-"],[style*="font-size"]),
  .banner:is(h1,h2,h3,[class*="text-"],[style*="font-size"]),
  .full  :is(h1,h2,h3,[class*="text-"],[style*="font-size"]),
  .hero  [style*="position: absolute"] *,
  .banner[style*="position: absolute"] *,
  .full  [style*="position: absolute"] * {
    font-size: clamp(18px, 5.5vw, 26px) !important;
    line-height: 1.3 !important;
    white-space: normal !important;
    word-break: keep-all !important;
    letter-spacing: normal !important;
    text-shadow: none !important;
    text-align: left !important;
    margin: 0.25em 0 !important;
  }

  /* 본문급 텍스트(자주 쓰는 유틸 클래스)도 살짝 줄이기 */
  .hero  :is(p,[class*="text-xl"],[class*="text-2xl"]),
  .banner:is(p,[class*="text-xl"],[class*="text-2xl"]),
  .full  :is(p,[class*="text-xl"],[class*="text-2xl"]) {
    font-size: clamp(14px, 3.8vw, 16px) !important;
    line-height: 1.4 !important;
    opacity: .95 !important;
  }

  /* 버튼 살짝 정돈 */
  .hero button, .banner button, .full button {
    font-size: 15px !important;
    font-weight: 600 !important;
    padding: 8px 12px !important;
    border-radius: 8px !important;
  }

  /* 3) 배너 위 장식/그라디언트가 터치를 막지 않게 */
  .hero::before, .hero::after,
  .banner::before, .banner::after,
  .full::before, .full::after {
    pointer-events: none !important;
  }

  /* 4) 슬라이더 제스처/레이아웃 안정화 */
  .swiper, .embla, .full { touch-action: pan-y !important; }
  .swiper-wrapper, .embla__container { display: flex !important; }
  .swiper-slide, .embla__slide { flex: 0 0 100% !important; min-width: 100% !important; }

  /* 5) 내비/화살표는 항상 클릭 가능 */
  .slider-nav, .swiper-button-prev, .swiper-button-next, .embla__button {
    position: relative; z-index: 5; pointer-events: auto;
  }

  /* 6) 카드/프로젝트 제목 줄바꿈 */
  .card, .project-card, .list-item { min-width: 0; }
  .card h3, .project-card h3, .list-item h3,
  .card .title, .project-card .title {
    font-size: clamp(16px, 4.5vw, 20px) !important;
    white-space: normal !important;
    word-break: keep-all !important;
  }
}
