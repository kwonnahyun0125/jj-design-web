/* === JJ-DESIGN overrides.css (MOBILE-ONLY + DEBUG BADGE) ===
   Path: /srv/jj/jj-design-web/user-dist/overrides.css
   Note: 모든 규칙은 @media (max-width:768px) 내부 — PC 영향 X
*/

@media (max-width: 768px) {

  /* 0) 디버그: 모바일 미디어쿼리 활성 표식 (나중에 지워도 됨) */
  body::after {
    content: "overrides.css: mobile active";
    position: fixed;
    right: 8px; bottom: 8px;
    padding: 4px 6px;
    font: 11px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    color: #fff; background: rgba(0,0,0,.65);
    border-radius: 6px;
    z-index: 999999;
    pointer-events: none;
  }

  /* 1) 큰 타이틀/설명 축소 */
  .hero h1, .hero h2,
  .banner h1, .banner h2,
  .full h1, .full h2 {
    font-size: clamp(20px, 6vw, 28px) !important;
    line-height: 1.25 !important;
    margin: 0.3em 0 !important;
    white-space: normal !important;
    letter-spacing: normal !important;
    word-break: keep-all !important;
    text-shadow: none !important;
  }
  .hero p, .banner p, .full p {
    font-size: clamp(14px, 3.8vw, 16px) !important;
    line-height: 1.4 !important;
    opacity: .95 !important;
    margin: 0.25em 0 0.5em !important;
  }
  .hero .content, .banner .content, .full .content {
    padding: clamp(12px, 5vw, 24px) !important;
  }

  /* 2) 세로쓰기/회전 → 가로 */
  .vertical, .vertical-text, .rotate-90,
  [class*="vertical"], [style*="writing-mode"] {
    writing-mode: horizontal-tb !important;
    transform: none !important;
    white-space: normal !important;
    letter-spacing: normal !important;
  }

  /* 3) 슬라이드 방해하는 오버레이 제거(터치 통과)  */
  /* 3-1) 인라인 absolute+z-index 텍스트/박스 (배너 안) */
  .hero  [style*="position: absolute"][style*="z-index"],
  .banner[style*="position: absolute"][style*="z-index"],
  .full  [style*="position: absolute"][style*="z-index"] {
    pointer-events: none !important;          /* 스와이프를 슬라이더로 보냄 */
    left: 16px !important; right: 16px !important; bottom: 16px !important;
    width: auto !important;
  }
  /* 버튼만 다시 클릭 가능 */
  .hero  [style*="position: absolute"][style*="z-index"] button,
  .banner[style*="position: absolute"][style*="z-index"] button,
  .full  [style*="position: absolute"][style*="z-index"] button {
    pointer-events: auto !important;
    font-size: 15px !important;
    font-weight: 600 !important;
    padding: 10px 14px !important;
    border-radius: 10px !important;
  }

  /* 3-2) Tailwind식 전체 덮개(로딩/블러 등) — inset-0 + z-? 조합 */
  .hero  .absolute.inset-0[class*="z-"],
  .banner.absolute.inset-0[class*="z-"],
  .full  .absolute.inset-0[class*="z-"],
  .hero  :where(.absolute).inset-0[class*="z-"],
  .banner :where(.absolute).inset-0[class*="z-"],
  .full  :where(.absolute).inset-0[class*="z-"] {
    pointer-events: none !important;          /* 슬라이드 위 덮개 무력화 */
  }

  /* 3-3) 배경 장식/그라디언트도 터치 차단 금지 */
  .hero::before, .hero::after,
  .banner::before, .banner::after,
  .full::before, .full::after {
    pointer-events: none !important;
  }

  /* 4) 슬라이더 제스처/레이아웃 안정화 */
  .swiper, .embla { touch-action: pan-y !important; }
  .swiper-wrapper, .embla__container { display: flex !important; }
  .swiper-slide, .embla__slide { flex: 0 0 100% !important; min-width: 100% !important; }

  /* 5) 내비/화살표는 항상 클릭 가능 */
  .slider-nav, .swiper-button-prev, .swiper-button-next, .embla__button {
    position: relative; z-index: 5; pointer-events: auto;
  }

  /* 6) 카드/프로젝트 텍스트 줄바꿈 */
  .card, .project-card, .list-item { min-width: 0; }
  .card h3, .project-card h3, .list-item h3,
  .card .title, .project-card .title {
    font-size: clamp(16px, 4.5vw, 20px) !important;
    white-space: normal !important;
    word-break: keep-all !important;
  }
}

@media (max-width:768px){
  body::after{
    content:"overrides.css: mobile active";
    position:fixed; left:8px; bottom:8px;
    background:#111; color:#fff; font:12px/1.2 system-ui;
    padding:4px 6px; border-radius:4px;
    z-index:2147483647;
  }
}

/* ===== Strong clamp for inline-styled overlay (MOBILE ONLY) ===== */
@media (max-width: 768px) {
  /* 텍스트 오버레이 전체는 터치 통과 */
  .full [style*="position: absolute"][style*="z-index"],
  .hero [style*="position: absolute"][style*="z-index"],
  .banner [style*="position: absolute"][style*="z-index"] {
    pointer-events: none !important;
    left: 16px !important;
    right: 16px !important;
    bottom: 16px !important;
    width: auto !important;
  }

  /* 오버레이 안 모든 자식 텍스트를 일괄 축소(태그/유틸 클래스/인라인 폰트사이즈까지 강제) */
  .full  [style*="position: absolute"][style*="z-index"] * ,
  .hero  [style*="position: absolute"][style*="z-index"] * ,
  .banner[style*="position: absolute"][style*="z-index"] * {
    font-size: clamp(16px, 5.5vw, 28px) !important;
    line-height: 1.25 !important;
    white-space: normal !important;
    word-break: keep-all !important;
    letter-spacing: normal !important;
    text-shadow: none !important;
  }

  /* 버튼/링크만 다시 클릭 가능하게 */
  .full  [style*="position: absolute"][style*="z-index"] :is(a,button),
  .hero  [style*="position: absolute"][style*="z-index"] :is(a,button),
  .banner[style*="position: absolute"][style*="z-index"] :is(a,button) {
    pointer-events: auto !important;
    padding: 10px 14px !important;
    border-radius: 10px !important;
    font-weight: 600 !important;
  }

  /* 스와이프 제스처 안정화 */
  .full, .swiper, .embla { touch-action: pan-y !important; }
}