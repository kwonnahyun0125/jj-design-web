/* === JJ-DESIGN overrides.css (MOBILE-ONLY FINAL v7) ===
   Path : /srv/jj/jj-design-web/user-dist/overrides.css
   Scope: @media (max-width:768px) 내부만 적용 → PC 영향 없음
*/

@media (max-width: 768px) {

  /* 0) 디버그 배지 (확인 후 제거 가능) */
  body::after {
    content: "overrides.css: mobile active";
    position: fixed; right: 8px; bottom: 8px;
    padding: 4px 6px;
    font: 11px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    color: #fff; background: rgba(0,0,0,.65);
    border-radius: 6px;
    z-index: 2147483647;
    pointer-events: none;
  }

  /* ----------------------------------------------------
     A) ‘첫 화면 배너’처럼 뷰포트 높이(100vh) 쓰는 큰 영역에서
        인라인 absolute 오버레이를 왼쪽 정렬로 강제
     ---------------------------------------------------- */

  /* 1) 배너 컨테이너 추정: swiper/slide/hero/banner/full/100vh */
  :is(
    [class*="swiper"],
    [class*="slide"],
    [data-swiper],
    [data-carousel],
    [class*="hero"],
    [class*="banner"],
    .hero, .banner, .full,
    .w-full
  ):has(
    > [style*="100vh"],
    > [style*="calc(100vh"],
    > [style*="height:100vh"],
    > [style*="height: 100vh"]
  )
  :is([style*="position:absolute"], [style*="position: absolute"]) {
    /* 위치/레이아웃 */
    top: auto !important;
    bottom: 10% !important;
    left: 16px !important;
    right: auto !important;
    width: auto !important;
    transform: none !important;

    display: flex !important;
    flex-direction: column !important;
    align-items: flex-start !important; /* ← 왼쪽 정렬 */
    justify-content: flex-end !important;
    gap: 6px !important;
    padding: 0 16px !important;

    /* 제스처 간섭 제거 (텍스트는 통과, 버튼만 복구) */
    pointer-events: none !important;
    text-align: left !important;
  }

  /* 2) 오버레이 내부 버튼/링크는 클릭 가능하게 복구 */
  :is(
    [class*="swiper"], [class*="slide"], [data-swiper], [data-carousel],
    [class*="hero"], [class*="banner"], .hero, .banner, .full, .w-full
  )
  :is([style*="position:absolute"], [style*="position: absolute"])
  :is(a, button) {
    pointer-events: auto !important;
    align-self: flex-start !important;
    font-size: 15px !important;
    font-weight: 600 !important;
    padding: 9px 14px !important;
    border-radius: 10px !important;
  }

  /* 3) 큰 제목/본문 타이포 축소 + 가독성 제한 */
  :is(
    [class*="swiper"], [class*="slide"], [data-swiper], [data-carousel],
    [class*="hero"], [class*="banner"], .hero, .banner, .full, .w-full
  )
  :is([style*="position:absolute"], [style*="position: absolute"])
  :is(h1, h2) {
    font-size: clamp(20px, 5.5vw, 26px) !important;
    line-height: 1.25 !important;
    letter-spacing: normal !important;
    text-shadow: none !important;
    margin: 0.1em 0 !important;
    max-width: 24ch !important;
  }

  :is(
    [class*="swiper"], [class*="slide"], [data-swiper], [data-carousel],
    [class*="hero"], [class*="banner"], .hero, .banner, .full, .w-full
  )
  :is([style*="position:absolute"], [style*="position: absolute"])
  p {
    font-size: clamp(14px, 3.8vw, 15px) !important;
    line-height: 1.4 !important;
    opacity: .95 !important;
    margin: 0.25em 0 0.4em !important;
    max-width: 28ch !important;
    text-shadow: none !important;
  }

  /* 4) 인라인 text-shadow가 있으면 제거 */
  [style*="text-shadow"] { text-shadow: none !important; }

  /* ----------------------------------------------------
     B) 슬라이더 제스처/레이아웃 안정화 (모바일만)
     ---------------------------------------------------- */
  .swiper, .embla { touch-action: pan-y !important; }
  .swiper-wrapper, .embla__container { display: flex !important; }
  .swiper-slide, .embla__slide { flex: 0 0 100% !important; min-width: 100% !important; }

  /* 내비/화살표는 항상 클릭 가능 */
  .slider-nav, .swiper-button-prev, .swiper-button-next, .embla__button {
    position: relative; z-index: 5; pointer-events: auto;
  }

  /* ----------------------------------------------------
     C) 카드/프로젝트 목록 텍스트 줄바꿈 보정
     ---------------------------------------------------- */
  .card, .project-card, .list-item { min-width: 0; }
  .card h3, .project-card h3, .list-item h3,
  .card .title, .project-card .title {
    font-size: clamp(16px, 4.5vw, 20px) !important;
    white-space: normal !important;
    word-break: keep-all !important;
  }
}
